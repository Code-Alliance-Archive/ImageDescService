<script type="text/javascript">
<!--
function getAvailableImageIds()
{
	return [
	<% @images.each do | image | %>
		"<%= image['id'] %>",
	<% end %>
	]
}

function nextButton()
{
	changeImage(1)
}

function previousButton()
{
	changeImage(-1)
}

function changeImage(delta)
{
	availableImageIds = getAvailableImageIds()
	currentId = document.getElementById("current_image_index").value
	if(availableImageIds.length == 0)
	{
		document.getElementById("current_image_index").value = "no images"
		return;
	}
	currentIndex = 0
	for (i=0; i<availableImageIds.length; i++)
	{
		if(availableImageIds[i] == currentId)
		{
			currentIndex = i;
			break;
		}
	}
	targetIndex = currentIndex + delta
	count = availableImageIds.length
	if(targetIndex < 0 || targetIndex >= count)
	{
		return;
	}
	target = availableImageIds[targetIndex]
	document.getElementById("current_image_index").value = target
	parent.side_bar.location = "/daisy_book/side_bar#" + target
	parent.content.location = "/daisy_book/book/content#" + target
}

function myPopup() {
    window.open('/help/DescriptionGuidance.html', '_guide', 'height=400,width=300,status=no,menubar=no,location=no,toolbar=no');
}
// -->
</script>
<form accept-charset="UTF-8" action="/daisy_book/get_daisy_with_descriptions" method="get">
<input type="Button" id="previous" value="&lt;&lt;Previous" onclick="previousButton()"></input>
<input type="Button" id="next" value="Next&gt;&gt;" onclick="nextButton()"></input>

<div class='right'>
<a href='/help/DescriptionGuidance.html' target='_blank'>
  <img src='/images/info.png' width='20' height='20'></img>
</a>
<a href='#' onClick="myPopup()">
  <img src='/images/info.png' width='20' height='20'></img>

</a>
&nbsp; &nbsp;
<input id="SaveAs" type="submit" value="Save As..."></input>
</div>
<div class='clear'/>
</form>
 
<form name="navigation_helpers" id="nav_help">
<input type="hidden" value="" name="current_image_index" id="current_image_index" size="20"></input>
</form>
